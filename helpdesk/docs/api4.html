<!DOCTYPE html>
<html lang="en">
  
  <head>
    
	<meta charset="utf-8">
    <title>API - Add Ticket (XML): Maian Support - Documentation</title>
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
	<link rel="stylesheet" href="pages/css/bootstrap.css" type="text/css">
	<link rel="stylesheet" href="pages/css/bootstrap-responsive.css" type="text/css">
    <link rel="stylesheet" href="pages/css/theme.css" type="text/css">
    <link rel="stylesheet" href="pages/css/font-awesome.css">
	
	<script src="pages/js/jquery.js" type="text/javascript"></script>
	<link rel="stylesheet" href="pages/css/ms.css" type="text/css">
    <script src="pages/js/ms-global.js" type="text/javascript"></script>
	<!--[if lt IE 9]>
    <script src="pages/js/html5.js"></script>
    <![endif]-->

    <link rel="SHORTCUT ICON" href="favicon.ico">
	
  </head>

  <!--[if lt IE 7 ]> <body class="ie ie6"> <![endif]-->
  <!--[if IE 7 ]> <body class="ie ie7"> <![endif]-->
  <!--[if IE 8 ]> <body class="ie ie8"> <![endif]-->
  <!--[if IE 9 ]> <body class="ie ie9"> <![endif]-->
  <!--[if (gt IE 9)|!(IE)]><!--> 
  <body class=""> 
  <!--<![endif]-->
    
   <div class="navbar">
        <div class="navbar-inner">
                <script type="text/javascript" src="pages/js/header.js"></script>
				<noscript>Please enable javascript to view header.</noscript>
				<a class="brand" href="index.html" title="Maian Support: Documentation"><span class="first">Maian Support: Documentation</span></a>
	    </div>
    </div>
    
  <div class="sidebar-nav">
  <script type="text/javascript" src="pages/js/nav-menu.js"></script>
  <noscript>Please enable javascript to view menu.</noscript>
  </div>
  <div class="content">
        
  <div class="header">
    
	<h1 class="page-title">API - Add Ticket (XML)</h1>
    <span class="clearfix"></span>
  
  </div>
  
  <ul class="breadcrumb">
    <li>API <span class="divider">/</span></li>
    <li class="active">Add Ticket (XML)</li>
  </ul>
        
  <div class="container-fluid">
   
  <div class="block">
    <p class="block-heading">Overview</p>
    <div class="block-body">
	 Enables ticket to be opened from remote website or application. Please read the information below carefully.
    </div>
  </div> 
   
  <div class="block">
    <p class="block-heading">XML Wrapper Structure</p>
    <div class="block-body">
	 Your xml wrapper structure should look like the following:<br><br>
     
	 &lt;?xml version="1.0" encoding="utf-8"?&gt;<br>
     &lt;msapi&gt;<br>
     &nbsp;&nbsp;&lt;api&gt;YOUR KEY&lt;/api&gt;<br>
	 &nbsp;&nbsp;&lt;op&gt;ticket&lt;/op&gt;<br>
     &nbsp;&nbsp;&lt;tickets&gt;<br>
     &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#5d781d">(ticket tags as shown below)</span><br>
     &nbsp;&nbsp;&lt;/tickets&gt;<br>
     &lt;/msapi&gt;<br><br>
	 
	 Op type is "ticket" and must NOT be changed. API key must be same as key in <a href="settings.html">settings</a>.
    </div>
   </div>
   
   <div class="block">
    <p class="block-heading">Ticket Data (Required)</p>
    <div class="block-body">
	 Multiple tickets are possible with each transmission. Each ticket should be wrapper in &lt;ticket&gt;&lt;/ticket&gt; tags. Inside each tag set is the data related to the ticket. Custom field
     data and attachments are supported, but are optional. Structure as follows:<br><br>
    
     &lt;ticket&gt;<br>
     &nbsp;&nbsp;&lt;name&gt;Persons Name&lt;/name&gt;<br>
     &nbsp;&nbsp;&lt;email&gt;Persons Email&lt;/email&gt;<br>
     &nbsp;&nbsp;&lt;dept&gt;Dept ID number&lt;/dept&gt;<br>
     &nbsp;&nbsp;&lt;subject&gt;&lt;![CDATA[Subject of ticket]]&gt;&lt;/subject&gt; (Uses CDATA example)<br>
     &nbsp;&nbsp;&lt;comments&gt;Comments&lt;/comments&gt;<br>
	 &nbsp;&nbsp;&lt;language&gt;english&lt;/language&gt;<br>
     &nbsp;&nbsp;&lt;priority&gt;ID as shown on <a href="levelsman.html">priority level page</a> and in screenshot below&lt;/priority&gt;<br>
     &nbsp;&nbsp;&lt;customfields&gt;<br>
     &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#5d781d">(custom field tags as shown below)</span><br>
     &nbsp;&nbsp;&lt;/customfields&gt;<br>
     &nbsp;&nbsp;&lt;attachments&gt;<br>
     &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#5d781d">(attachments tags as shown below)</span><br>
     &nbsp;&nbsp;&lt;/attachments&gt;<br>
     &lt;/ticket&gt;<br><br>
    
	 Priority level must be ID as shown on priority levels page in your settings. This may be a text value OR a numeric ID as shown in the following screenshot:<br><br>
	 <a href="screenshots/86.jpg" onclick="window.open(this);return false"><img src="screenshots/86.jpg" class="screenshot" alt="Screenshot" title="Click for Fullsize"></a><br><br>
	 Language is an optional tag and is only required if you are using the <a href="install_6.html">multi language</a> option. If an account exists already, the language will be taken from the account
	 and the xml value will have no meaning. Its for new accounts only and sets their default language. No language specified will default to the main language in
	 the settings.
    </div>
   </div>
   
   <div class="block">
    <p class="block-heading">Custom Field Data (Optional)</p>
    <div class="block-body">
	 Custom field data is also supported and is optional. Structure as follows:<br><br>
    
     &lt;f1&gt;Custom field ID 1 data&lt;/f1&gt;<br>
     &lt;f2&gt;Custom field ID 2 data&lt;/f2&gt;<br>
     &lt;f3&gt;Custom field ID 3 data&lt;/f3&gt;<br>
     &lt;f4&gt;Custom field ID 4 data&lt;/f4&gt;<br><br>
     
	 Each field tag contains the ID number of the field as shown in the main screenshot <a href="fieldsman.html">here</a> prefixed with an 'f'. 'f1' for example would be custom field ID 1. If the ID doesn`t exist in the system, the field tag will be ignored.<br><br>
    
     If the custom field value can be one of a number of specific options, the options you present to visitors in your application should mirror these.
    </div>
   </div>
   
   <div class="block">
    <p class="block-heading">Attachments (Optional)</p>
    <div class="block-body">
	 Multiple attachments are possible with each transmission. Attachment data must be base64 encoded:<br><br>
    
     &lt;file&gt;<br>
     &nbsp;&nbsp;&lt;ext&gt;File Extension&lt;/ext&gt;<br>
     &nbsp;&nbsp;&lt;data&gt;Base64 Encoded File Data&lt;/data&gt;<br>
     &lt;/file&gt;<br><br>
     
	 Each attachment should be wrapped in &lt;file&gt;&lt;/file&gt; tags and contain 2 additional tags, one for the file extension and one containing the base64 encoded data. File extension
     examples would be:<br><br>
     
	 &lt;ext&gt;pdf&lt;/ext&gt;<br>
     &lt;ext&gt;JPG&lt;/ext&gt;<br><br>
      
	 The extension is not case sensitive. Same restrictions apply with attachments as with standard tickets. If restrictions are met, attachments are ignored.
    </div>
   </div>
   
   <div class="block">
    <p class="block-heading">XML Response</p>
    <div class="block-body">
	 On successful transmission an xml response is returned:<br><br>
    
     &lt;?xml version="1.0" encoding="utf-8"?&gt;<br>
     &lt;msapi&gt;<br>
     &nbsp;&nbsp;&lt;status&gt;OK&lt;/status&gt;<br>
     &lt;/msapi&gt;<br><br>
     
	 If an error occurs, the following is returned:<br><br>
    
     &lt;?xml version="1.0" encoding="utf-8"?&gt;<br>
     &lt;msapi&gt;<br>
     &nbsp;&nbsp;&lt;status&gt;ERROR&lt;/status&gt;<br>
     &nbsp;&nbsp;&lt;reason&gt;Reason for error..&lt;/reason&gt;<br>
     &lt;/msapi&gt;<br><br>
     
	 Your own application should deal with the response accordingly.
    </div>
   </div>
   
   <div class="block">
    <p class="block-heading">Example File</p>
    <div class="block-body">
     Click <a href="examples/add-ticket-example.xml" onclick="window.open(this);return false">here</a> to view an example xml file.<br>
    </div>
   </div>
   
   <p>
    <a href="api1.html"><i class="icon-chevron-left"></i> Return to API Overview</a>
   </p>

   <div class="row-fluid">
	<script type="text/javascript" src="pages/js/footer.js"></script>
	<noscript>Please enable javascript to view footer.</noscript>
   </div>
  
  </div>

  </div>
  <script src="pages/js/plugins/jquery.bootstrap.js"></script>

 </body>
</html>